!function(e){var t={};function n(i){if(t[i])return t[i].exports;var s=t[i]={i:i,l:!1,exports:{}};return e[i].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(i,s,function(t){return e[t]}.bind(null,s));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=13)}([function(e,t){e.exports=React},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(0);class s extends i.Component{constructor(e){super(e),e.style?(this.style=e.style,this.style.resize="none"):this.style={resize:"none"}}onInputChange(e){e.target.value||(e.target.style.border=null)}onTextAreaChange(e){e.target.value||(e.target.style.border=null)}onKeyPress(e){this.props.onChange&&this.props.onChange(e.currentTarget.value),13===e.which&&this.props.onValidated&&this.props.onValidated()}render(){return this.props.multiline?i.createElement("textarea",{onChange:this.onTextAreaChange,className:"bot-edit-input",id:this.props.id,onKeyPress:this.onKeyPress.bind(this),placeholder:this.props.placeholder,value:this.props.value,style:this.style}):i.createElement("input",{onChange:this.onInputChange,className:"bot-edit-input",id:this.props.id,type:"text",onKeyPress:this.onKeyPress.bind(this),placeholder:this.props.placeholder,list:this.props.list,value:this.props.value,style:this.style})}}t.Input=s},function(e,t){e.exports=ReactDOM},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),s=n(5);class l extends i.Component{constructor(e){super(e),l.addedHandler||(document.addEventListener("click",()=>this.closeSelect(null,document.getElementsByClassName("select-items"),document.getElementsByClassName("select-selected"))),l.addedHandler=!0)}onSelected(e){this.props.onSelected(e)}closeSelect(e,t,n){let i=[];for(let t=0;t<n.length;t++)e==n[t]?i.push(t):n[t].classList.remove("select-arrow-active");for(let e=0;e<t.length;e++)i.indexOf(e)&&t[e].classList.add("select-hide")}postRender(){let e=document.getElementById(`parent-${this.props.id}`),t=document.getElementById(this.props.id),n=document.createElement("div");n.setAttribute("class","select-selected"),-1!==t.options.selectedIndex&&(n.textContent=t.options[t.selectedIndex].textContent),e.appendChild(n);let i=document.createElement("div");i.setAttribute("class","select-items select-hide");for(let e=0;e<t.options.length;e++){let n=t.options[e],s=document.createElement("div");s.textContent=n.textContent,s.addEventListener("click",e=>{let i=s.parentNode.previousSibling;for(let e=0;e<t.length;e+=1)if(n.textContent==s.textContent){t.selectedIndex=e,i.textContent=s.textContent;let n=s.parentNode.getElementsByClassName("same-as-selected");for(let e=0;e<n.length;e++)n[e].removeAttribute("class");s.setAttribute("class","same-as-selected");break}i.click(),t.value=n.value,s.textContent=n.text,this.onSelected(n.value)}),i.appendChild(s)}e.appendChild(i),n.addEventListener("click",e=>{e.stopPropagation(),this.closeSelect(n,document.getElementsByClassName("select-items"),document.getElementsByClassName("select-selected")),n.nextSibling.classList.toggle("select-hide")}),this.props.defaultValue&&s.SelectHelper.trySetValue(this.props.id,this.props.defaultValue)}componentDidMount(){this.postRender()}componentDidUpdate(){let e=document.getElementById(`parent-${this.props.id}`),t=e.getElementsByClassName("select-selected");for(let n of t)e.removeChild(n);let n=e.getElementsByClassName("select-items");for(let t of n)e.removeChild(t);this.postRender()}render(){return i.createElement("div",{className:"conduit-select",id:`parent-${this.props.id}`},i.createElement("select",{id:this.props.id,defaultValue:this.props.defaultValue},this.props.children))}}t.Select=l,l.addedHandler=!1},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ConduitEvent=class{constructor(){this.handlers=[]}on(e){this.handlers.push(e)}off(e){this.handlers=this.handlers.filter(t=>t!==e)}trigger(e){this.handlers.slice(0).forEach(t=>t(e))}expose(){return this}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class i{constructor(e){this.element=e,this.success=!!e}toNode(){return this.element}}class s{static tryGetSelect(e){let t=document.getElementById(e);return new i(t)}static tryGetOption(e,t){try{for(let n of e.options)if(n.value===t)return new i(n);return new i(null)}catch(e){return new i(null)}}static tryGetItem(e,t){try{let n=e.nextSibling.nextSibling;for(let e of n.children)if(e.textContent===t.textContent)return new i(e);return new i(null)}catch(e){return new i(null)}}static addHandler(e,t,n,i){n.addEventListener("click",s=>{let l=n.parentNode.previousSibling;for(let i=0;i<e.length;i+=1)if(t.textContent==n.textContent){e.selectedIndex=i,l.textContent=n.textContent;let t=n.parentNode.getElementsByClassName("same-as-selected");for(let e=0;e<t.length;e++)t[e].removeAttribute("class");n.setAttribute("class","same-as-selected");break}l.click(),e.value=t.value,n.textContent=t.text,i(t.value)})}static trySetValue(e,t){let n=s.tryGetSelect(e);if(!n.success)return!1;let i=n.toNode();i.value=t;let l=i.selectedIndex>-1?i.selectedIndex:0;return i.nextSibling.textContent=i.options[l].textContent,!0}static trySetOptions(e,t,n){let i=s.tryGetSelect(e);if(!i.success)return!1;let l=i.toNode();for(;l.firstChild;)l.removeChild(l.firstChild);let o=l.nextSibling.nextSibling;for(;o.firstChild;)o.removeChild(o.firstChild);if(t.length<=0)return!0;for(let e of t){l.appendChild(e);let t=document.createElement("div");t.textContent=e.textContent,o.appendChild(t),s.addHandler(l,e,t,n)}return l.value=t[0].value,l.nextSibling.textContent=t[0].textContent,!0}static tryAddValue(e,t,n,i){let l=s.tryGetSelect(e);if(!l.success)return!1;if(s.tryGetOption(l.element,t).success)return s.tryChangeOptionText(e,t,n);let o=l.toNode(),r=document.createElement("option");r.value=t,r.textContent=n,o.appendChild(r);let a=document.createElement("div");return a.textContent=n,o.nextSibling.nextSibling.appendChild(a),s.addHandler(o,r,a,i),!0}static tryRemoveValue(e,t){let n=s.tryGetSelect(e);if(!n.success)return!1;let i=s.tryGetOption(n.element,t);if(!i.success)return!1;let l=s.tryGetItem(n.element,i.element);if(!l.success)return!1;let o=n.toNode(),r=i.toNode(),a=o.nextSibling.nextSibling,d=l.toNode();if(o.removeChild(r),a.removeChild(d),r.textContent===o.nextSibling.textContent){o.selectedIndex=0;let e=o.options[o.selectedIndex];e?(o.value=e.value,o.nextSibling.textContent=e.textContent):(o.value="",o.nextSibling.textContent="")}return!0}static tryChangeOptionText(e,t,n){let i=s.tryGetSelect(e);if(!i.success)return!1;let l=s.tryGetOption(i.element,t);if(!l.success)return!1;let o=s.tryGetItem(i.element,l.element);if(!o.success)return!1;let r=i.toNode(),a=l.toNode(),d=o.toNode();r.nextSibling.textContent===a.textContent&&(r.nextSibling.textContent=n),d.textContent=n,a.textContent=n}}t.SelectHelper=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class i{constructor(e){this.status=e.status,this.content=e.response,this.headers=this.getResponseHeaders(e)}getResponseHeaders(e){let t={},n=e.getAllResponseHeaders().split("\r\n").filter(e=>e.length>0);for(let e of n){let n=e.indexOf(":"),i=e.substring(0,n+1),s=e.substring(n+1,e.length).trim();t[i]=s}return t}asObject(){return this.content?JSON.parse(this.content):null}isSuccess(){return!!this.status&&200===this.status}}t.HttpResult=i;t.HttpClient=class{httpRequest(e,t,n,s){return new Promise((l,o)=>{try{let o=new XMLHttpRequest;if(o.timeout=5e3,o.onreadystatechange=()=>{4===o.readyState&&l(new i(o))},o.open(e,t),s)for(let e in s)o.setRequestHeader(e,s[e]);n?o.send(n):o.send(null)}catch(e){o(e)}})}get(e,t){return this.httpRequest("GET",e,null,t)}patch(e,t,n){return this.httpRequest("PATCH",e,t,n)}put(e,t,n){return this.httpRequest("PUT",e,t,n)}delete(e,t,n){return this.httpRequest("DELETE",e,t,n)}post(e,t,n){return this.httpRequest("POST",e,t,n)}}},function(e,t){e.exports=Discord},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(s,l){function o(e){try{a(i.next(e))}catch(e){l(e)}}function r(e){try{a(i.throw(e))}catch(e){l(e)}}function a(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,r)}a((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});t.ClientHelper=class{constructor(e){this.timeout=1e4,this.client=e}waitGatewayWS(e){return new Promise((t,n)=>{let i=null;i=setInterval(()=>{e.connection&&e.connection.ws&&(i&&clearInterval(i),t(e.connection.ws))},250),setTimeout(()=>{clearInterval(i),t(null)},this.timeout)})}getGatewayWS(){return i(this,void 0,void 0,(function*(){let e=this.client;return yield this.waitGatewayWS(e.ws)}))}getAllGatewayWS(){return i(this,void 0,void 0,(function*(){let e=this.client,t=yield this.waitGatewayWS(e.ws);return t?[t]:[]}))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(16),s=n(4);var l;!function(e){e[e.NORMAL=0]="NORMAL",e[e.WARN=1]="WARN",e[e.DANGER=2]="DANGER"}(l=t.LogType||(t.LogType={}));class o{constructor(e,t){this.message=e,this.type=t}}t.LogEventArgs=o;t.Logger=class{constructor(){this.notifications=new i.Notyf({duration:5e3,ripple:!0}),this.onLog=new s.ConduitEvent,console.log("Welcome to conduit™"),console.warn("The following product is under licensed exclusive rights, any attempt of theft, distribution,\nand or but not only limited to service abuse will be issued with direct legal actions toward the individual or moral entity responsible of said actions.")}success(e){this.notifications.success(e),console.log(e),this.onLog.trigger(new o(e,l.NORMAL))}error(e){this.notifications.error(e),console.error(e),this.onLog.trigger(new o(e,l.DANGER))}get log(){return this.onLog.expose()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(0);class s extends i.Component{onValidated(e,t){console.debug("onValidated was not overriden!")}onClick(e){document.getElementById(this.props.id).getElementsByTagName("input")[0].click()}onChange(e){let t=new FileReader,n=e.target.files[0];t.onload=()=>{let e=t.result,i=new Uint8Array(e),s=btoa(String.fromCharCode.apply(null,i));this.onValidated(n.type,s)},t.readAsArrayBuffer(n)}onError(e){let t=e.currentTarget.parentElement,n=t.getElementsByTagName("img")[0],i=t.getElementsByTagName("span")[0];n.style.display="none",i.style.display="block"}render(){return i.createElement("div",{id:this.props.id,className:"avatar-control"},i.createElement("span",null),i.createElement("img",{alt:"avatar",onError:this.onError.bind(this)}),i.createElement("button",{onClick:this.onClick.bind(this)},"Change Avatar"),i.createElement("input",{onChange:this.onChange.bind(this),type:"file",accept:"image/png,image/jpeg"}))}}t.Avatar=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(0);class s extends i.Component{constructor(e){super(e),this.folded=!1}onFoldClick(e){let t=e.currentTarget.parentElement.parentElement.getElementsByClassName("content")[0];this.folded?(t.style.display="block",e.currentTarget.textContent="▲",this.folded=!1):(t.style.display="none",e.currentTarget.textContent="▼",this.folded=!0)}render(){return i.createElement("div",{id:this.props.id,className:"dashboard-panel",style:this.props.style},i.createElement("div",{className:"dashboard-header"},i.createElement("span",{className:"title"},this.props.title),i.createElement("button",{className:"fold-btn",onClick:this.onFoldClick.bind(this),style:{display:this.props.foldable?"block":"none"}},"▲")),i.createElement("div",{className:"content"},this.props.children))}}t.DashboardPanel=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(0);class s extends i.Component{onChange(e){this.props.onChange(e.target.checked)}render(){return i.createElement("div",{className:"pretty p-switch p-fill"},i.createElement("input",{id:this.props.id,type:"checkbox",defaultChecked:this.props.defaultValue,onChange:this.onChange.bind(this)}),i.createElement("div",{className:"state p-success"},i.createElement("label",null,this.props.name)))}}t.Checkbox=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),s=n(2),l=n(7),o=n(14),r=n(15),a=n(9),d=n(17),c=n(18),h=n(35),u=n(36),p=new l.Client,m=new a.Logger,g=new d.Loader(m);u.EventEmitter.defaultMaxListeners=20,p.options.messageCacheMaxSize=1,p.options.messageCacheLifetime=1,p.options.ws.large_threshold=1,p.options.fetchAllMembers=!1,p.options.shardCount=1,s.render(i.createElement("div",null,i.createElement(h.Header,null),i.createElement(o.Login,{client:p,logger:m,loader:g}),i.createElement(c.Dashboard,{client:p,logger:m,loader:g}),i.createElement(r.Loader,null)),document.getElementById("root"))},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(s,l){function o(e){try{a(i.next(e))}catch(e){l(e)}}function r(e){try{a(i.throw(e))}catch(e){l(e)}}function a(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,r)}a((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),l=n(8);class o extends s.Component{constructor(e){super(e),this.clientHelper=new l.ClientHelper(this.props.client)}createReadyPromise(){return i(this,void 0,void 0,(function*(){return new Promise((e,t)=>i(this,void 0,void 0,(function*(){setTimeout(()=>e(!1),3e4);let t=yield this.clientHelper.getAllGatewayWS();if(0===t.length)return void e(!1);let n=0;for(let i of t){let s=l=>{let o=JSON.parse(l.data);o?"READY"===o.t&&o.d.guilds&&o.d.guilds.length<1?(i.removeEventListener("message",s),setTimeout(()=>{this.props.client.emit("loggedIn"),++n===t.length&&e(!0)},2e3)):"GUILD_CREATE"===o.t&&(i.removeEventListener("message",s),this.props.client.emit("loggedIn"),++n===t.length&&e(!0)):(i.removeEventListener("message",s),e(!1))};i.addEventListener("message",s)}})))}))}connect(){let e=document.getElementById("token-input");if(e.value){let t=document.getElementById("token-form");e.disabled=!0,this.props.loader.load(this.props.client.login(e.value)).catch(t=>{e.style.border="2px solid red",e.disabled=!1}),this.createReadyPromise().then(n=>{if(n)if(this.props.client.user.bot){t.style.display="none",document.getElementById("dashboard").style.display="block",document.getElementsByClassName("header")[0].style.display="none",this.props.logger.success(`Logged in as ${this.props.client.user.tag}!`),e.disabled=!1}else this.props.loader.load(this.props.client.destroy()).then(t=>{e.style.border="2px solid red",e.disabled=!1,this.props.logger.error("You cannot login with a user token")});else this.props.loader.load(this.props.client.destroy()).then(t=>{e.style.border="2px solid red",e.disabled=!1,this.props.logger.error("Connection timed out or failed")})})}else e.style.border="2px solid red",e.disabled=!1}onConnect(e){e.preventDefault(),this.connect()}onTokenChange(e){e.target.value||(e.target.style.border="none")}onKeyPress(e){13===e.which&&this.connect()}render(){return s.createElement("div",{id:"token-form"},s.createElement("span",{className:"title"},"BOT LOGIN"),s.createElement("input",{onKeyPress:this.onKeyPress.bind(this),onChange:this.onTokenChange,id:"token-input",type:"password",placeholder:"discord bot token..."}),s.createElement("button",{className:"classic-btn",onClick:this.onConnect.bind(this)},"Connect"))}}t.Login=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(0);class s extends i.Component{render(){return i.createElement("div",{id:"loader"},"loading")}}t.Loader=s},function(e,t,n){"use strict";n.r(t),n.d(t,"Notyf",(function(){return d})),n.d(t,"NotyfNotification",(function(){return l})),n.d(t,"NotyfArrayEvent",(function(){return i})),n.d(t,"NotyfArray",(function(){return o})),n.d(t,"DEFAULT_OPTIONS",(function(){return r})),n.d(t,"NotyfView",(function(){return a}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var i,s=function(){return(s=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)},l=function(e){this.options=e};!function(e){e[e.Add=0]="Add",e[e.Remove=1]="Remove"}(i||(i={}));var o=function(){function e(){this.notifications=[]}return e.prototype.push=function(e){this.notifications.push(e),this.updateFn(e,i.Add,this.notifications)},e.prototype.splice=function(e,t){var n=this.notifications.splice(e,t)[0];this.updateFn(n,i.Remove,this.notifications)},e.prototype.indexOf=function(e){return this.notifications.indexOf(e)},e.prototype.onupdate=function(e){this.updateFn=e},e}(),r={types:[{type:"success",className:"notyf__toast--success",backgroundColor:"#3dc763",icon:{className:"notyf__icon--success",tagName:"i"}},{type:"error",className:"notyf__toast--error",backgroundColor:"#ed3d3d",icon:{className:"notyf__icon--error",tagName:"i"}}],duration:2e3,ripple:!0},a=function(){function e(){this.notifications=[];var e=document.createDocumentFragment(),t=this._createHTLMElement({tagName:"div",className:"notyf"});e.appendChild(t),document.body.appendChild(e),this.container=t,this.animationEndEventName=this._getAnimationEndEventName(),this._createA11yContainer()}return e.prototype.update=function(e,t){t===i.Add?this.addNotification(e):t===i.Remove&&this.removeNotification(e)},e.prototype.removeNotification=function(e){var t,n,i=this,s=this._popRenderedNotification(e);s&&((t=s.node).classList.add("notyf__toast--disappear"),t.addEventListener(this.animationEndEventName,n=function(e){e.target===t&&(t.removeEventListener(i.animationEndEventName,n),i.container.removeChild(t))}))},e.prototype.addNotification=function(e){var t=this._renderNotification(e);this.notifications.push({notification:e,node:t}),this._announce(e.options.message||"Notification")},e.prototype._renderNotification=function(e){var t=this._buildNotificationCard(e),n=e.options.className;return n&&t.classList.add(n),this.container.appendChild(t),t},e.prototype._popRenderedNotification=function(e){for(var t=-1,n=0;n<this.notifications.length&&t<0;n++)this.notifications[n].notification===e&&(t=n);if(-1!==t)return this.notifications.splice(t,1)[0]},e.prototype._buildNotificationCard=function(e){var t=e.options,n=t.icon,i=this._createHTLMElement({tagName:"div",className:"notyf__toast"}),s=this._createHTLMElement({tagName:"div",className:"notyf__ripple"}),l=this._createHTLMElement({tagName:"div",className:"notyf__wrapper"}),o=this._createHTLMElement({tagName:"div",className:"notyf__message"});o.innerHTML=t.message||"";var r=t.backgroundColor;if(n&&"object"==typeof n){var a=this._createHTLMElement({tagName:"div",className:"notyf__icon"}),d=this._createHTLMElement({tagName:n.tagName||"i",className:n.className,text:n.text});r&&(d.style.color=r),a.appendChild(d),l.appendChild(a)}return l.appendChild(o),i.appendChild(l),r&&(t.ripple?(s.style.backgroundColor=r,i.appendChild(s)):i.style.backgroundColor=r),i},e.prototype._createHTLMElement=function(e){var t=e.tagName,n=e.className,i=e.text,s=document.createElement(t);return n&&(s.className=n),s.textContent=i||null,s},e.prototype._createA11yContainer=function(){var e=this._createHTLMElement({tagName:"div",className:"notyf-announcer"});e.setAttribute("aria-atomic","true"),e.setAttribute("aria-live","polite"),e.style.border="0",e.style.clip="rect(0 0 0 0)",e.style.height="1px",e.style.margin="-1px",e.style.overflow="hidden",e.style.padding="0",e.style.position="absolute",e.style.width="1px",e.style.outline="0",document.body.appendChild(e),this.a11yContainer=e},e.prototype._announce=function(e){var t=this;this.a11yContainer.textContent="",setTimeout((function(){t.a11yContainer.textContent=e}),100)},e.prototype._getAnimationEndEventName=function(){var e,t=document.createElement("_fake"),n={MozTransition:"animationend",OTransition:"oAnimationEnd",WebkitTransition:"webkitAnimationEnd",transition:"animationend"};for(e in n)if(void 0!==t.style[e])return n[e];return"animationend"},e}(),d=function(){function e(e){var t=this;this.notifications=new o,this.view=new a;var n=this.registerTypes(e);this.options=s({},r,e),this.options.types=n,this.notifications.onupdate((function(e,n){t.view.update(e,n)}))}return e.prototype.error=function(e){var t=this.normalizeOptions("error",e);this.open(t)},e.prototype.success=function(e){var t=this.normalizeOptions("success",e);this.open(t)},e.prototype.open=function(e){var t=this.options.types.find((function(t){return t.type===e.type}))||{},n=s({},t,e);n.ripple=void 0===n.ripple?this.options.ripple:n.ripple;var i=new l(n);this._pushNotification(i)},e.prototype._pushNotification=function(e){var t=this;this.notifications.push(e);var n=e.options.duration||this.options.duration;setTimeout((function(){var n=t.notifications.indexOf(e);t.notifications.splice(n,1)}),n)},e.prototype.normalizeOptions=function(e,t){var n={type:e};return"string"==typeof t?n.message=t:"object"==typeof t&&(n=s({},n,t)),n},e.prototype.registerTypes=function(e){var t=(e&&e.types||[]).slice();return r.types.map((function(e){var n=t.findIndex((function(t){return t.type===e.type})),i=-1!==n?t.splice(n,1)[0]:{};return s({},e,i)})).concat(t)},e}()},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(s,l){function o(e){try{a(i.next(e))}catch(e){l(e)}}function r(e){try{a(i.throw(e))}catch(e){l(e)}}function a(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,r)}a((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});t.Loader=class{constructor(e){this.logger=e,this.promiseAmount=0}load(e){return i(this,void 0,void 0,(function*(){let t=document.getElementById("loader");t.style.display="block",this.promiseAmount++;try{let n=yield e;return this.promiseAmount--,--this.promiseAmount<1&&(t.style.display="none"),n}catch(e){let n=e;throw this.logger.error(n.message),--this.promiseAmount<1&&(t.style.display="none"),n}}))}}},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(s,l){function o(e){try{a(i.next(e))}catch(e){l(e)}}function r(e){try{a(i.throw(e))}catch(e){l(e)}}function a(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,r)}a((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),l=n(19),o=n(11),r=n(22),a=n(23),d=n(8);class c extends s.Component{constructor(e){super(e),this.clientHelper=new d.ClientHelper(this.props.client),this.props.client.on("loggedIn",this.onLoggedIn.bind(this)).on("ready",this.onReady.bind(this))}onLoggedIn(){return i(this,void 0,void 0,(function*(){let e=yield this.clientHelper.getAllGatewayWS();if(0===e.length)return;let t=0,n=this.getPanelTitle("guild-panel"),s=0;for(let l of e){let e=i=>{let o=JSON.parse(i.data);if("GUILD_CREATE"!=o.t)return;t++;let r=Math.ceil(t/s*100);r>=100?(n.textContent="GUILDS",l.removeEventListener("message",e)):n.textContent=`GUILDS (caching: ${r}%)`,o.d&&this.props.client.emit("guildCached",o.d.id,o.d.name)};l.addEventListener("message",e),l.addEventListener("close",t=>i(this,void 0,void 0,(function*(){l.removeEventListener("message",e),(l=yield this.clientHelper.getGatewayWS())&&l.addEventListener("message",e)})))}s=this.props.client.shard?(yield this.props.client.shard.fetchClientValues("guilds.size")).reduce((e,t)=>e+t,0):this.props.client.guilds.size}))}onReady(){this.getPanelTitle("guild-panel").textContent="GUILDS"}getPanelTitle(e){return document.getElementById(e).getElementsByClassName("title")[0]}render(){return s.createElement("div",{id:"dashboard"},s.createElement(l.DashboardHeader,{client:this.props.client,logger:this.props.logger,loader:this.props.loader}),s.createElement("div",{className:"row",style:{paddingBottom:"400px"}},s.createElement("div",{className:"col-md-6"},s.createElement(o.DashboardPanel,{id:"guild-panel",title:"GUILDS",foldable:!0},s.createElement(a.DashboardGuilds,{client:this.props.client,logger:this.props.logger,loader:this.props.loader}))),s.createElement("div",{className:"col-md-6"},s.createElement("div",{className:"row"},s.createElement("div",{className:"col-md-12"},s.createElement(o.DashboardPanel,{title:"TOOLBOX",foldable:!0})),s.createElement("div",{className:"col-md-12"},s.createElement(o.DashboardPanel,{title:"SCRIPTS",foldable:!0})))),s.createElement("div",{className:"col-md-12"},s.createElement(o.DashboardPanel,{id:"console-panel",title:"CONSOLE",foldable:!0,style:{position:"fixed",bottom:"0px",width:"100%"}},s.createElement(r.DashboardConsole,{client:this.props.client,logger:this.props.logger,loader:this.props.loader})))))}}t.Dashboard=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),s=n(20);class l extends i.Component{render(){return i.createElement("div",{className:"container",id:"dashboard-header"},i.createElement("div",{className:"dashboard-header"},i.createElement("span",{className:"title"},"GENERAL")),i.createElement(s.DashboardHeaderInfo,{client:this.props.client,logger:this.props.logger,loader:this.props.loader}))}}t.DashboardHeader=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),s=n(1),l=n(3),o=n(21);class r extends i.Component{constructor(e){super(e),this.props.client.on("ready",this.initialize.bind(this)).on("loggedIn",this.initialize.bind(this)).on("userUpdate",this.onUserUpdate.bind(this)).on("guildCreate",this.onGuildX.bind(this)).on("guildCached",this.onGuildX.bind(this)).on("guildDelete",this.onGuildX.bind(this))}initialize(){let e=this.props.client.user,t=document.getElementById("bot-tag"),n=document.getElementById("bot-game"),i=document.getElementById("shard-count"),s=document.getElementById("guild-count"),l=document.getElementById("user-count"),o=document.getElementById("bot-id");t.value=e.username,s.innerText=this.props.client.guilds.size.toString(),l.innerText=this.props.client.users.size.toString(),o.innerText=e.id,e.presence.game&&(n.value=e.presence.game.name),this.props.client.shard?i.innerText=this.props.client.shard.count.toString():i.innerText="1"}onUserUpdate(e,t){let n=this.props.client.user;if(t.id===n.id){let e=document.getElementById("bot-tag"),i=document.getElementById("bot-game");e.value=t.username,n.presence.game&&(i.value=n.presence.game.name)}}onGuildX(e){let t=document.getElementById("shard-count"),n=document.getElementById("guild-count"),i=document.getElementById("user-count");n.innerText=this.props.client.guilds.size.toString(),i.innerText=this.props.client.users.size.toString(),this.props.client.shard?t.innerText=this.props.client.shard.count.toString():t.innerText="1"}onBotNameValidated(e){let t=document.getElementById("bot-tag");t.value?this.props.loader.load(this.props.client.user.setUsername(t.value)).then(e=>{t.style.border="1px solid black",this.props.logger.success(`Changed username to '${t.value}'`)}).catch(e=>t.value=this.props.client.user.username):t.value=this.props.client.user.username}onBotGameValidated(e){let t=document.getElementById("bot-game"),n=document.getElementById("bot-activity");if(t.value){let e=this.activityNameToNum(n.value);this.props.loader.load(this.props.client.user.setActivity(t.value,{type:e})).then(e=>this.props.logger.success(`Changed activity to '${n.value.toLowerCase()} ${t.value}'`)).catch(e=>{let i=this.props.client.user.presence.game;if(i){t.value=i.name;let e=this.activityNumToName(i.type);n.value=e,n.nextSibling.textContent=e[0]+e.slice(1).toLowerCase()}})}else this.props.loader.load(this.props.client.user.setActivity("")).then(e=>this.props.logger.success("Removed the current game activity"))}activityNumToName(e){switch(e){case 0:return"PLAYING";case 1:return"STREAMING";case 2:return"LISTENING";case 3:return"WATCHING";default:return""}}activityNameToNum(e){switch(e){case"PLAYING":return 0;case"STREAMING":return 1;case"LISTENING":return 2;case"WATCHING":return 3;default:return 0}}statusNameToDisplay(e){switch(e){case"online":return"Online";case"idle":return"Idle";case"dnd":return"Do Not Disturb";default:return"Online"}}onBotPresenceChanged(e){let t=document.getElementById("bot-game"),n=document.getElementById("bot-activity");if(t.value){let i=this.activityNameToNum(e);this.props.loader.load(this.props.client.user.setActivity(t.value,{type:i})).then(n=>this.props.logger.success(`Changed activity to '${e.toLowerCase()} ${t.value}'`)).catch(e=>{let i=this.props.client.user.presence.game;if(i){t.value=i.name;let e=this.activityNumToName(i.type);n.value=e,n.nextSibling.textContent=e[0]+e.slice(1).toLowerCase()}})}}onBotStatusChanged(e){let t=document.getElementById("bot-status");this.props.loader.load(this.props.client.user.setPresence({status:e})).then(t=>this.props.logger.success(`Changed status to '${this.statusNameToDisplay(e)}'`)).catch(n=>{e=this.props.client.user.presence.status,t.value=e,t.nextSibling.textContent=this.statusNameToDisplay(e)})}onBotClose(e){this.props.loader.load(this.props.client.destroy()).then(e=>this.props.logger.success("Disconnected"));let t=document.getElementById("dashboard"),n=document.getElementById("token-form");t.style.display="none",n.style.display="block",location.reload()}onInviteClick(){window.open(`https://discordapp.com/oauth2/authorize?client_id=${this.props.client.user.id}&scope=bot&permissions=0`)}render(){return i.createElement("div",{className:"row dashboard-info "},i.createElement("div",{className:"col-md-1"},i.createElement("div",{style:{height:"5px"}}),i.createElement(o.BotAvatar,{id:"bot-avatar",client:this.props.client,logger:this.props.logger,loader:this.props.loader})),i.createElement("div",{className:"col-md-2"},i.createElement(s.Input,{placeholder:"name...",id:"bot-tag",onValidated:this.onBotNameValidated.bind(this)}),i.createElement(s.Input,{placeholder:"game...",id:"bot-game",onValidated:this.onBotGameValidated.bind(this)})),i.createElement("div",{className:"col-md-2"},i.createElement(l.Select,{id:"bot-activity",onSelected:this.onBotPresenceChanged.bind(this),defaultValue:"PLAYING"},i.createElement("option",{value:"PLAYING"},"Playing"),i.createElement("option",{value:"STREAMING"},"Streaming"),i.createElement("option",{value:"LISTENING"},"Listening"),i.createElement("option",{value:"WATCHING"},"Watching")),i.createElement("div",{style:{height:"5px"}}),i.createElement(l.Select,{id:"bot-status",onSelected:this.onBotStatusChanged.bind(this),defaultValue:"online"},i.createElement("option",{value:"online"},"Online"),i.createElement("option",{value:"idle"},"Idle"),i.createElement("option",{value:"dnd"},"Do Not Disturb"))),i.createElement("div",{className:"bot-stats col-md-2"},i.createElement("div",{style:{height:"5px"}}),"Shards: ",i.createElement("span",{id:"shard-count"},">?"),i.createElement("br",null),"Guilds: ",i.createElement("span",{id:"guild-count"},">?"),i.createElement("br",null),"Users: ",i.createElement("span",{id:"user-count"},"?")),i.createElement("div",{className:"bot-stats col-md-3"},i.createElement("div",{style:{height:"5px"}}),"ID: ",i.createElement("span",{id:"bot-id"},"0"),i.createElement("br",null),i.createElement("button",{className:"purple-btn small-btn",style:{marginTop:"5px"},onClick:this.onInviteClick.bind(this)},"Bot Invite Link")),i.createElement("div",{className:"col-md-2"},i.createElement("div",{style:{height:"5px"}}),i.createElement("button",{className:"red-btn",onClick:this.onBotClose.bind(this),id:"disconnect-btn"},"Disconnect")))}}t.DashboardHeaderInfo=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(10),s=n(6);class l extends i.Avatar{constructor(e){super(e),this.httpClient=new s.HttpClient,this.props.client.on("ready",this.initialize.bind(this)).on("loggedIn",this.initialize.bind(this)).on("userUpdate",this.onUserUpdate.bind(this))}updateAvatar(){let e=document.getElementById(this.props.id),t=e.getElementsByTagName("img")[0],n=e.getElementsByTagName("span")[0],i=this.props.client.user.avatarURL;n.textContent=this.props.client.user.username.split(" ").map(e=>e[0]).join(""),i?(t.style.display="block",t.src=i,n.style.display="none"):(t.style.display="none",n.style.display="block")}initialize(){this.updateAvatar()}onUserUpdate(e,t){this.props.client.user.id===t.id&&this.updateAvatar()}onValidated(e,t){let n=JSON.stringify({username:this.props.client.user.username,avatar:`data:${e};base64,${t}`});this.props.loader.load(this.httpClient.patch("https://discordapp.com/api/users/@me",n,{Authorization:`Bot ${this.props.client.token}`,"Content-Type":"application/json"})).then(e=>{if(e.isSuccess())this.props.logger.success("New avatar set"),this.updateAvatar();else{let t=e.asObject();t.avatar&&t.avatar[0]?this.props.logger.error(t.avatar[0]):this.props.logger.error("Coult not set new avatar")}})}}t.BotAvatar=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),s=n(9),l=n(12),o=n(1);var r;!function(e){e[e.Channel=0]="Channel",e[e.Guild=1]="Guild",e[e.Emoji=2]="Emoji",e[e.Role=3]="Role",e[e.Global=4]="Global",e[e.Conduit=5]="Conduit"}(r||(r={}));class a extends i.Component{constructor(e){super(e),this.enabledEvents={[r.Channel]:!0,[r.Guild]:!0,[r.Emoji]:!0,[r.Role]:!0,[r.Global]:!0,[r.Conduit]:!0},this.regex=null,this.props.logger.log.on(this.onLog.bind(this)),this.props.client.on("channelCreate",e=>this.logMessage(`Channel [ ${e.id} ] created`,r.Channel)).on("channelDelete",e=>this.logMessage(`Channel [ ${e.id} ] deleted`,r.Channel)).on("channelPinsUpdate",(e,t)=>this.logMessage(`Channel ${e.id} ] pins updated`,r.Channel)).on("channelUpdate",(e,t)=>this.logMessage(`Channel [ ${t.id} ] updated`,r.Channel)).on("emojiCreate",e=>this.logMessage(`Emoji [ ${e.id} ] created in guild [ ${e.guild.id} ]`,r.Emoji)).on("emojiDelete",e=>this.logMessage(`Emoji [ ${e.id} ] deleted in guild [ ${e.guild.id} ]`,r.Emoji)).on("emojiUpdate",(e,t)=>this.logMessage(`Emoji [ ${t.id} ] updated in guild [ ${t.guild.id} ]`,r.Emoji)).on("clientUserGuildSettingsUpdate",e=>this.logMessage(`Guild [ ${e.guildID} ] settings updated`,r.Guild)).on("guildBanAdd",(e,t)=>this.logMessage(`Guild [ ${e.id}} ] banned user [ ${t.id} ]`,r.Guild)).on("guildBanRemove",(e,t)=>this.logMessage(`Guild [ ${e.id}} ] unbanned user [ ${t.id} ]`,r.Guild)).on("guildCreate",e=>this.logMessage(`Joined guild [ ${e.id} ]`,r.Guild)).on("guildCached",(e,t)=>this.logMessage(`Cached guild [ ${e} ]`,r.Emoji)).on("guildDelete",e=>this.logMessage(`Left guild [ ${e.id} ]`,r.Guild)).on("guildUpdate",(e,t)=>this.logMessage(`Updated guild [ ${t.id} ]`,r.Guild)).on("guildUnavailable",e=>this.logMessage(`Guild [ ${e.id} ] became unavailable`,r.Guild)).on("guildIntegrationsUpdate",e=>this.logMessage(`Updated integration in guild [ ${e.id} ]`,r.Guild)).on("guildMemberAdd",e=>this.logMessage(`User [ ${e.id} ] joined guild [ ${e.guild.id} ]`,r.Guild)).on("guildMemberRemove",e=>this.logMessage(`User [ ${e.id} ] left guild [ ${e.guild.id} ]`,r.Guild)).on("guildMemberUpdate",(e,t)=>this.logMessage(`Updated user [ ${t.id} ] in guild [ ${t.guild.id} ]`,r.Guild)).on("roleCreate",e=>this.logMessage(`Created role [ ${e.id} ] in guild [ ${e.guild.id} ]`,r.Role)).on("roleDelete",e=>this.logMessage(`Deleted role [ ${e.id} ] in guild [ ${e.guild.id} ]`,r.Role)).on("roleUpdate",e=>this.logMessage(`Updated role [ ${e.id} ] in guild [ ${e.guild.id} ]`,r.Role)).on("ready",()=>this.logMessage("Ready",r.Global)).on("loggedIn",this.onLoggedIn.bind(this)).on("reconnecting",()=>this.logMessage("Reconnecting",r.Global,s.LogType.WARN)).on("resume",e=>this.logMessage(`Resumed websocket connection with ${e} events replayed`,r.Global)).on("warn",e=>this.logMessage(e,r.Global,s.LogType.WARN)).on("error",e=>this.logMessage(e.message,r.Global,s.LogType.DANGER)).on("rateLimit",e=>this.logMessage(`Triggered rate-limit [ ${e.path} ]`,r.Global,s.LogType.WARN))}onLog(e){this.logMessage(e.message,r.Conduit,e.type)}logMessage(e,t,n){if(!this.enabledEvents[t])return;if(this.regex&&!this.regex.test(e))return;let i=(new Date).toLocaleTimeString(),l=document.createElement("span");l.style.color="orange",l.textContent=i;let o=document.createElement("div");o.appendChild(l),o.append(` | ${e}`),n===s.LogType.DANGER?(o.style.backgroundColor="rgba(200,0,0,0.5)",o.style.color="red"):n===s.LogType.WARN&&(o.style.backgroundColor="rgba(200,140,0,0.5)",o.style.color="yellow");let r=document.getElementById("console");r.appendChild(o),r.scrollTo(0,r.scrollHeight)}onLoggedIn(){if(this.props.client.guilds.size>=2500){let e=["log-guild","log-channel","log-role","log-emoji"];for(let t of e){let e=document.getElementById(t);e&&e.click()}}}setEvent(e,t){this.enabledEvents[e]=t}onClear(){let e=document.getElementById("console");for(;e.firstChild;)e.removeChild(e.firstChild)}onRegexChange(e){this.regex=e?new RegExp(e):null}render(){return i.createElement("div",null,i.createElement("div",{className:"row",style:{padding:"5px"}},i.createElement("div",{className:"col-md-2"},i.createElement("button",{className:"classic-btn",style:{width:"100%"},onClick:this.onClear.bind(this)},"Clear")),i.createElement("div",{className:"col-md-2"},i.createElement(l.Checkbox,{id:"log-conduit",name:"Conduit",defaultValue:this.enabledEvents[r.Conduit],onChange:e=>this.setEvent(r.Conduit,e)}),i.createElement("br",null),i.createElement(l.Checkbox,{id:"log-global",name:"Global",defaultValue:this.enabledEvents[r.Global],onChange:e=>this.setEvent(r.Global,e)})),i.createElement("div",{className:"col-md-2"},i.createElement(l.Checkbox,{id:"log-guild",name:"Guild",defaultValue:this.enabledEvents[r.Guild],onChange:e=>this.setEvent(r.Guild,e)}),i.createElement("br",null),i.createElement(l.Checkbox,{id:"log-channel",name:"Channel",defaultValue:this.enabledEvents[r.Channel],onChange:e=>this.setEvent(r.Channel,e)})),i.createElement("div",{className:"col-md-2"},i.createElement(l.Checkbox,{id:"log-role",name:"Role",defaultValue:this.enabledEvents[r.Role],onChange:e=>this.setEvent(r.Role,e)}),i.createElement("br",null),i.createElement(l.Checkbox,{id:"log-emoji",name:"Emoji",defaultValue:this.enabledEvents[r.Emoji],onChange:e=>this.setEvent(r.Emoji,e)})),i.createElement("div",{className:"col-md-4"},i.createElement(o.Input,{id:"log-regex",placeholder:"regex filter...",onChange:this.onRegexChange.bind(this),style:{marginTop:"4px",marginBottom:"0px"}}))),i.createElement("div",{id:"console"}))}}t.DashboardConsole=a},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(s,l){function o(e){try{a(i.next(e))}catch(e){l(e)}}function r(e){try{a(i.throw(e))}catch(e){l(e)}}function a(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,r)}a((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),l=n(2),o=n(1),r=n(3),a=n(24),d=n(25),c=n(11),h=n(5),u=n(26),p=n(28),m=n(32),g=n(34);class f extends s.Component{constructor(e){super(e),this.selectedGuild=null,this.reporter=new d.ActionReporter(this.props.client),this.restClient=new g.RestClient(this.props.client),this.props.client.on("ready",this.onReady.bind(this)).on("loggedIn",this.loadRegionSelect.bind(this)).on("guildCreate",this.onGuildCreate.bind(this)).on("guildCached",this.onGuildCached.bind(this)).on("guildDelete",this.onGuildDelete.bind(this)).on("guildUpdate",(e,t)=>this.onGuildUpdate(t)).on("guildIntegrationsUpdate",this.onGuildUpdate.bind(this))}loadRegionSelect(){this.props.loader.load(this.props.client.fetchVoiceRegions()).then(e=>{let t=e.map(e=>s.createElement("option",{key:e.id,value:e.id},e.name));l.render(s.createElement(r.Select,{id:"guild-region",defaultValue:this.selectedGuild?this.selectedGuild.region:null,onSelected:this.onGuildRegionChange.bind(this)},t),document.getElementById("container-guild-region")),document.getElementById("parent-guild-region").style.marginBottom="0px"})}addGuildsToDatalist(e){let t=e.map(e=>s.createElement("option",{key:e.id,value:e.id},e.name," [ ",e.id," ]"));l.render(t,document.getElementById("guilds"))}initialize(e){this.addGuildsToDatalist(e),this.props.logger.success("Cached all guilds"),this.selectedGuild||(this.selectedGuild=e[0],this.updateGuildInfo())}onReady(){let e=[];this.props.client.shard?this.props.client.shard.broadcastEval("this.guilds").then(t=>{for(let n=0;n<t.length;n++){let i=t[n];e=e.concat(i.map(e=>e))}this.initialize(e)}).catch(e=>this.props.logger.error(e.message)):(e=this.props.client.guilds.map(e=>e),this.initialize(e))}onGuildCreate(e){let t=document.getElementById("guilds"),n=document.createElement("option");n.value=e.id,n.text=`${e.name} [ ${e.id} ]`,t.appendChild(n)}onGuildCached(e,t){let n=document.getElementById("guilds"),i=document.createElement("option");i.value=e,i.text=`${t} [ ${e} ]`,n.appendChild(i)}getGuildOptionNode(e,t){if(this.props.client.guilds.size<2500)for(let n of e.childNodes){let e=n;if(e.value===t)return e}return null}onGuildDelete(e){let t=document.getElementById("guilds"),n=this.getGuildOptionNode(t,e.id);n&&t.removeChild(n),this.selectedGuild&&e.id===this.selectedGuild.id&&(this.selectedGuild=this.props.client.guilds.first(),this.updateGuildInfo())}onGuildUpdate(e){let t=document.getElementById("guilds"),n=this.getGuildOptionNode(t,e.id);n&&(n.textContent=`${e.name} [ ${e.id} ]`),this.selectedGuild&&e.id===this.selectedGuild.id&&(this.selectedGuild=e,this.updateGuildInfo(!1))}tryFindGuild(e){return i(this,void 0,void 0,(function*(){let t=null;return this.props.client.guilds.has(e)&&(t=this.props.client.guilds.get(e)).available?t:(t=yield this.restClient.fetchGuild(e))?(this.props.client.guilds.set(t.id,t),t):null}))}updateGuildInfo(e=!0){let t=document.getElementById("container-guild-avatar"),n=document.getElementById("guild-name"),i=document.getElementById("container-guild-channel"),o=document.getElementById("container-guild-emojis"),r=document.getElementById("container-guild-roles");if(t&&n&&i&&o&&r){if(!this.selectedGuild)return n.value="",l.render(s.createElement("div",null),t),void l.render(s.createElement("div",null),i);n.value=this.selectedGuild.name,h.SelectHelper.trySetValue("guild-region",this.selectedGuild.region),l.render(s.createElement(a.GuildAvatar,{id:"guild-avatar",reporter:this.reporter,guild:this.selectedGuild,client:this.props.client,logger:this.props.logger,loader:this.props.loader}),t),e&&(l.render(s.createElement(p.DashboardChannels,{guild:this.selectedGuild,client:this.props.client,restClient:this.restClient,onLayoutInvalidated:this.updateGuildInfo.bind(this),logger:this.props.logger,loader:this.props.loader,reporter:this.reporter}),i),l.render(s.createElement(u.DashboardEmojis,{guild:this.selectedGuild,client:this.props.client,restClient:this.restClient,onLayoutInvalidated:this.updateGuildInfo.bind(this),logger:this.props.logger,loader:this.props.loader,reporter:this.reporter}),o),l.render(s.createElement(m.DashboardRoles,{guild:this.selectedGuild,client:this.props.client,restClient:this.restClient,onLayoutInvalidated:this.updateGuildInfo.bind(this),logger:this.props.logger,loader:this.props.loader,reporter:this.reporter}),r))}}onGuildSelected(){let e=document.getElementById("guild-select");this.props.loader.load(this.tryFindGuild(e.value)).then(e=>{!e||e&&e.deleted||(this.props.logger.success(`Selected guild [ ${e.id} ]`),this.selectedGuild=e,this.updateGuildInfo())})}hasPermissions(...e){if(this.selectedGuild){let t=this.selectedGuild.member(this.props.client.user);for(let n of e)if(!t.hasPermission(n))return this.props.logger.error(`You do not have the '${n}' permission for the selected guild`),!1;return!0}return this.props.logger.error("Cannot check permissions for a nonexistent guild"),!1}onGuildNameChange(){if(!this.selectedGuild)return;let e=document.getElementById("guild-name");if(e.value&&this.hasPermissions("MANAGE_GUILD")){let t=this.selectedGuild.name;this.props.loader.load(this.selectedGuild.setName(e.value)).then(e=>{this.props.logger.success(`Changed selected guild's name to ${e.name}`),this.reporter.reportGuildAction(`Changed guild's name [ \`${t}\` -> \`${e.name}\` ]`,this.selectedGuild)}).catch(t=>e.value=this.selectedGuild.name)}else e.value=this.selectedGuild.name}onGuildRegionChange(){if(!this.selectedGuild)return;let e=document.getElementById("guild-region");if(e.value&&this.hasPermissions("MANAGE_GUILD")){let t=this.selectedGuild.region;this.props.loader.load(this.selectedGuild.setRegion(e.value)).then(e=>{this.props.logger.success(`Changed selected guild's region to ${e.region}`),this.reporter.reportGuildAction(`Changed guild's voice region [ \`${t}\` -> \`${e.region}\` ]`,this.selectedGuild)}).catch(t=>e.value=this.selectedGuild.region)}else e.value=this.selectedGuild.region}onLeaveGuild(){this.selectedGuild&&this.props.loader.load(this.selectedGuild.leave()).then(e=>{this.props.logger.success("Left selected guild"),this.selectedGuild=this.props.client.guilds.first(),this.updateGuildInfo()})}onDeleteGuild(){this.selectedGuild&&this.props.loader.load(this.selectedGuild.delete()).then(e=>{this.reporter.reportGuildAction("Deleted guild",this.selectedGuild),this.props.logger.success("Deleted selected guild"),this.selectedGuild=this.props.client.guilds.first(),this.updateGuildInfo()})}render(){return s.createElement("div",null,s.createElement("div",{style:{padding:"10px",paddingBottom:"0"}},s.createElement("div",{className:"row"},s.createElement("div",{className:"col-md-12"},s.createElement(o.Input,{id:"guild-select",onValidated:this.onGuildSelected.bind(this),placeholder:"guild name or id...",list:"guilds"}),s.createElement("datalist",{id:"guilds"}),s.createElement("hr",{style:{marginBottom:"10px"}}))),s.createElement("div",{className:"row"},s.createElement("div",{className:"col-md-2 guild-avatar"},s.createElement("div",{id:"container-guild-avatar"})),s.createElement("div",{className:"col-md-4"},s.createElement(o.Input,{id:"guild-name",onValidated:this.onGuildNameChange.bind(this),placeholder:"name..."}),s.createElement("div",{id:"container-guild-region"})),s.createElement("div",{className:"col-md-3"},s.createElement("button",{style:{marginBottom:"5px"},className:"purple-btn small-btn"},"Members"),s.createElement("button",{className:"purple-btn small-btn"},"Bans")),s.createElement("div",{className:"col-md-3"},s.createElement("button",{className:"red-btn small-btn",onClick:this.onLeaveGuild.bind(this),style:{marginBottom:"5px"}},"Leave"),s.createElement("button",{className:"red-btn small-btn",onClick:this.onDeleteGuild.bind(this)},"Delete")))),s.createElement(c.DashboardPanel,{title:"CHANNELS",foldable:!0,style:{marginTop:"10px"}},s.createElement("div",{id:"container-guild-channel"})),s.createElement(c.DashboardPanel,{title:"EMOJIS",foldable:!0,style:{marginTop:"0px"}},s.createElement("div",{id:"container-guild-emojis"})),s.createElement(c.DashboardPanel,{title:"ROLES",foldable:!0,style:{marginTop:"0px"}},s.createElement("div",{id:"container-guild-roles"})))}}t.DashboardGuilds=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(10),s=n(6);class l extends i.Avatar{constructor(e){super(e),this.httpClient=new s.HttpClient,this.props.client.on("guildUpdate",(e,t)=>{t.id===this.props.guild.id&&this.updateAvatar(t)})}updateAvatar(e){let t=document.getElementById(this.props.id),n=t.getElementsByTagName("img")[0],i=t.getElementsByTagName("span")[0];e.name?i.textContent=e.name.split(" ").map(e=>e[0]).join(""):i.textContent="?",e.iconURL?(n.style.display="block",n.src=`https://cdn.discordapp.com/icons/${e.id}/${e.icon}.png`,i.style.display="none"):(n.style.display="none",i.style.display="block")}onValidated(e,t){if(!this.props.guild.member(this.props.client.user).hasPermission("MANAGE_GUILD"))return void this.props.logger.error(`You do not have the 'MANAGE_GUILD' permission for the guild [ ${this.props.guild.id} ]`);let n=JSON.stringify({icon:`data:${e};base64,${t}`});this.props.loader.load(this.httpClient.patch(`https://discordapp.com/api/guilds/${this.props.guild.id}`,n,{Authorization:`Bot ${this.props.client.token}`,"Content-Type":"application/json"})).then(e=>{if(e.isSuccess())this.props.logger.success("New guild icon set"),this.props.reporter.reportGuildAction("Changed guild's avatar",this.props.guild);else{let t=e.asObject();t.message?this.props.logger.error(t.message):this.props.logger.error("Could not set new guild icon")}})}componentDidUpdate(){this.updateAvatar(this.props.guild)}componentDidMount(){this.updateAvatar(this.props.guild)}}t.GuildAvatar=l},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(s,l){function o(e){try{a(i.next(e))}catch(e){l(e)}}function r(e){try{a(i.throw(e))}catch(e){l(e)}}function a(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,r)}a((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const s=n(7);t.ActionReporter=class{constructor(e){this.client=e}formatChannel(e){return e?"category"===e.type?`category \`${e.name}\` (**${e.id}**)`:`channel \`${e.name} [ ${e.type} ]\` (**${e.id}**)`:""}getGuildOwner(e){return i(this,void 0,void 0,(function*(){return e.members.has(e.ownerID)?e.members.get(e.ownerID):yield e.fetchMember(e.ownerID,!0)}))}getUser(e){return i(this,void 0,void 0,(function*(){return this.client.users.has(e)?this.client.users.get(e):yield this.client.fetchUser(e,!0)}))}notifyGuild(e,t){if(e.systemChannel&&e.systemChannel.permissionsFor(this.client.user).has("SEND_MESSAGES")){e.systemChannel.send(`<@!${e.ownerID}>`,t)}}notifyGuildOwner(e,t){this.getGuildOwner(e).then(n=>{n||this.notifyGuild(e,t),n.createDM().then(n=>{t.addField("Guild",`\`${e.name}\` (**${e.id}**)`,!1),n.send("",t).catch(n=>this.notifyGuild(e,this.createEmbed(t.fields[0].value)))}).catch(n=>this.notifyGuild(e,t))})}notifyUser(e,t){this.getUser(e).then(e=>{e&&e.createDM().then(e=>e.send("",t))})}createEmbed(e,t=!1){let n=(new s.RichEmbed).setTitle("Conduit Reporter").setColor(11866677).addField("Action Performed",e,!0);return t&&n.setDescription("- Conduit is a system used by developers to manage their discord bots.\n\n\t\t\t- This message has been sent to you because changes were made to one of the servers / guilds you own.\n\n\t\t\t- You will receive this kind of message each time a server belonging to you is modified from our service, if you wish not to receive these messages anymore type `conduit-stop` in this channel.\n\n\t\t\t- If you have reasons to believe that someone is using **this bot** in a malicious way, we recommend you get rid of it in all of your servers / guilds and that you report it to our service / administrators."),n}reportGuildAction(e,t){e.length>1024&&(e=`${e.slice(0,1e3)}...`);let n=this.createEmbed(e);this.notifyGuildOwner(t,n)}reportAction(e,t){e.length>1024&&(e=`${e.slice(0,1e3)}...`);let n=this.createEmbed(e);this.notifyUser(t,n)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),s=n(27),l=n(1);class o extends i.Component{onEmojiChange(e){if(!e)return;this.selectedEmoji=e;let t=document.getElementById("emoji-name");t&&(t.value=e.name)}onEmojiNameChange(){if(!this.isCurrentEmojiValid())return;let e=document.getElementById("emoji-name");if(e.value)if(this.selectedEmoji.deletable){let t=this.selectedEmoji.name;this.props.loader.load(this.selectedEmoji.setName(e.value)).then(n=>{e.value=n.name,this.props.logger.success("Successfully changed the name of the selected emoji"),this.props.reporter.reportGuildAction(`Changed emoji \`${n.name}\` (**${n.id}**)'s name [ \`${t}\` -> \`${n.name}]\``,this.props.guild)})}else this.props.logger.error("You do not have the 'MANAGE_EMOJIS' permission in the selected guild"),e.value=this.selectedEmoji.name;else e.value=this.selectedEmoji.name}onEmojiDelete(){this.isCurrentEmojiValid()&&(this.selectedEmoji.deletable?this.props.loader.load(this.props.guild.deleteEmoji(this.selectedEmoji)).then(e=>{this.props.logger.success("Successfully deleted the selected emoji"),this.props.reporter.reportGuildAction(`Deleted emoji \`${this.selectedEmoji.name}\` (**${this.selectedEmoji.id}**)`,this.props.guild)}):this.props.logger.error("You do not have the 'MANAGE_EMOJIS' permission in the selected guild"))}isCurrentEmojiValid(){return!!this.selectedEmoji&&(!this.selectedEmoji.deleted&&this.selectedEmoji.guild.id===this.props.guild.id)}render(){return i.createElement("div",{style:{padding:"10px",paddingBottom:"5px"}},i.createElement("div",{className:"row"},i.createElement("div",{className:"col-md-12"},i.createElement(s.EmojiSelector,{id:"guild-emojis",guild:this.props.guild,onEmojiSelectedUpdate:this.onEmojiChange.bind(this),onSelected:this.onEmojiChange.bind(this),client:this.props.client,logger:this.props.logger,loader:this.props.loader}),i.createElement("hr",{style:{marginBottom:"10px"}}))),i.createElement("div",{className:"row"},i.createElement("div",{className:"col-md-9"},i.createElement(l.Input,{id:"emoji-name",onValidated:this.onEmojiNameChange.bind(this),placeholder:"name..."})),i.createElement("div",{className:"col-md-3"},i.createElement("button",{className:"red-btn small-btn",onClick:this.onEmojiDelete.bind(this)},"Delete"))))}}t.DashboardEmojis=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(0);class s extends i.Component{constructor(e){super(e),this.selectedEmoji=null,e.client.on("emojiCreate",this.onEmojiCreate.bind(this)).on("emojiUpdate",(e,t)=>this.onEmojiUpdate(t)).on("emojiDelete",this.onEmojiDelete.bind(this))}onEmojiCreate(e){if(!this.isValidEmoji(e))return;let t=this.findEmojiImage(e.id);if(t)return;let n=document.getElementById(this.props.id);(t=document.createElement("img")).alt=e.name,t.src=e.url,t.title=e.toString(),t.id=e.id,t.onclick=n=>{if(!this.props.hideSelected){if(this.selectedEmoji){let e=this.findEmojiImage(this.selectedEmoji.id);e&&(e.style.border="none")}t.style.border="3px solid #677bc4"}this.selectedEmoji=e,this.props.onSelected(this.selectedEmoji)},n.appendChild(t)}onEmojiUpdate(e){if(!this.isValidEmoji(e))return;let t=this.findEmojiImage(e.id);t&&(t.alt=e.name,t.title=e.toString(),t.src=e.url,e.id===this.selectedEmoji.id&&(this.selectedEmoji=e,this.props.onEmojiSelectedUpdate&&this.props.onEmojiSelectedUpdate(e)))}onEmojiDelete(e){if(!this.isValidEmoji(e))return;let t=this.findEmojiImage(e.id);t&&document.getElementById(this.props.id).removeChild(t)}isValidEmoji(e){return this.isVisible()&&e.guild.id===this.props.guild.id}isVisible(){return!!document.getElementById(this.props.id)}findEmojiImage(e){let t=document.getElementById(this.props.id);for(let n of t.children)if(n.id===e)return n;return null}onClick(e){let t=e.currentTarget.id,n=this.props.guild.emojis.find(e=>e.id===t);if(n){if(!this.props.hideSelected){if(this.selectedEmoji){let e=this.findEmojiImage(this.selectedEmoji.id);e&&(e.style.border="none")}e.currentTarget.style.border="3px solid #677bc4"}this.selectedEmoji=n,this.props.onSelected(this.selectedEmoji)}}renderEmojis(){let e=[];if(!this.props.guild.emojis)return e;let t=!1;for(let n of this.props.guild.emojis){let s=n[1];if(s.deleted)continue;let l={};t||(t=!0,this.selectedEmoji=s,this.props.hideSelected||(l.border="3px solid #677bc4")),e.push(i.createElement("img",{key:s.id,id:s.id,src:s.url,alt:s.name,title:s.toString(),onClick:this.onClick.bind(this),style:l}))}return this.props.onSelected(this.selectedEmoji),e}render(){return i.createElement("div",{id:this.props.id,className:"emoji-selector"},this.renderEmojis())}}t.EmojiSelector=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),s=n(2),l=n(29),o=n(30),r=n(31),a=n(1);class d extends i.Component{constructor(e){super(e),this.props.client.on("channelCreate",this.onChannelCreate.bind(this)).on("channelDelete",this.onChannelDelete.bind(this)).on("channelUpdate",(e,t)=>this.onChannelUpdate(t))}isValidChannel(e){if(!this.props.guild)return!1;if("dm"===e.type||"group"===e.type)return!1;return e.guild.id===this.props.guild.id}onChannelCreate(e){if(this.isValidChannel(e))if(1===this.props.guild.channels.size)this.props.onLayoutInvalidated();else{let t=e,n=document.createElement("option");n.value=t.id,n.textContent=`${t.name} [ ${t.id} ]`,document.getElementById("guild-channels").appendChild(n)}}getChannelOptionNode(e,t){for(let n of e.childNodes){let e=n;if(e.value===t)return e}return null}onChannelDelete(e){if(this.isValidChannel(e))if(this.props.guild.channels.size<1)this.props.onLayoutInvalidated();else{let t=e,n=document.getElementById("guild-channels"),i=this.getChannelOptionNode(n,t.id);i&&n.removeChild(i)}}onChannelUpdate(e){if(!this.isValidChannel(e))return;let t=e,n=document.getElementById("guild-channels"),i=this.getChannelOptionNode(n,t.id);i&&(i.textContent=`${t.name} [ ${t.type} | ${t.id} ]`)}loadChannel(e){let t=this.props.guild.channels.get(e),n=document.getElementById("channel"),a=i.createElement("div",null);if(!t||t&&t.deleted)return void s.render(a,n);switch(t.type){case"category":let e=t;a=i.createElement(l.DashboardCategoryChannel,{reporter:this.props.reporter,channel:e,client:this.props.client,logger:this.props.logger,loader:this.props.loader,onLayoutInvalidated:this.props.onLayoutInvalidated.bind(this)});break;case"store":case"news":case"text":let n=t;a=i.createElement(o.DashboardTextChannel,{reporter:this.props.reporter,channel:n,client:this.props.client,logger:this.props.logger,loader:this.props.loader,onLayoutInvalidated:this.props.onLayoutInvalidated.bind(this)});break;case"voice":let s=t;a=i.createElement(r.DashboardVoiceChannel,{reporter:this.props.reporter,channel:s,client:this.props.client,logger:this.props.logger,loader:this.props.loader,onLayoutInvalidated:this.props.onLayoutInvalidated.bind(this)})}s.render(a,n);let d=document.getElementById("guild-channel");d&&(d.value=e)}onChannelSelected(){let e=document.getElementById("guild-channel");e.value&&this.loadChannel(e.value)}renderChannels(){let e=this.props.guild.channels.filter(e=>!e.deleted);if(e.size>0){let t=e.map(e=>i.createElement("option",{key:`${this.props.guild.id}_${e.id}`,value:e.id},e.name," [ ",e.type," | ",e.id," ]"));return i.createElement("div",null,i.createElement(a.Input,{id:"guild-channel",onValidated:this.onChannelSelected.bind(this),placeholder:"channel name or id...",list:"guild-channels"}),i.createElement("datalist",{id:"guild-channels"},t),i.createElement("hr",{style:{marginBottom:"0px"}}))}return i.createElement("div",null)}postRender(){if(document.getElementById("guild-channel")){let e=this.props.guild.channels.filter(e=>!e.deleted);e.size>0&&this.loadChannel(e.first().id)}else s.render(i.createElement("div",null),document.getElementById("channel"))}componentDidUpdate(){this.postRender()}componentDidMount(){this.postRender()}render(){return i.createElement("div",null,i.createElement("div",{style:{padding:"10px",paddingBottom:"0px"}},i.createElement("div",{className:"row"},i.createElement("div",{className:"col-md-12"},this.renderChannels()))),i.createElement("div",{id:"channel",style:{padding:"5px",paddingBottom:"0px"}}))}}t.DashboardChannels=d},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(s,l){function o(e){try{a(i.next(e))}catch(e){l(e)}}function r(e){try{a(i.throw(e))}catch(e){l(e)}}function a(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,r)}a((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),l=n(2),o=n(1),r=n(4),a=n(3);class d extends s.Component{constructor(e){super(e),this.onChannelDeletion=new r.ConduitEvent,this.category=e.channel,e.onLayoutInvalidated&&this.onChannelDeletion.on(e.onLayoutInvalidated),d.registeredEvents||(e.client.on("channelDelete",this.onChannelDelete.bind(this)).on("channelUpdate",(e,t)=>this.onChannelUpdate(t)).on("channelCreate",this.onChannelCreate.bind(this)),d.registeredEvents=!0)}onChannelDelete(e){this.isValidChannel(e)&&e.id===this.category.id&&this.onChannelDeletion.trigger()}onChannelUpdate(e){this.isValidChannel(e)&&(e.id===this.category.id&&(this.category=e,this.initialize()),this.updateChannels())}onChannelCreate(e){this.isValidChannel(e)&&this.updateChannels()}isValidChannel(e){if(!this.isVisible())return!1;if("dm"===e.type||"group"===e.type)return!1;return e.guild.id===this.category.guild.id}isVisible(){return!!document.getElementById("category-channel")}updateChannels(){let e=document.getElementById("container-channel-not-children"),t=document.getElementById("container-channel-children");if(!e||!t)return;this.childrenChannels=this.getChannels(!0),this.nonChildrenChannels=this.getChannels(!1);let n=this.nonChildrenChannels[0],i=this.childrenChannels[0];if(n){this.chanIdToAdd=n.id;let t=this.nonChildrenChannels.map(e=>s.createElement("option",{key:`${this.category.id}_${e.id}`,value:e.id},e.name," [ ",e.type," | ",e.id," ]"));l.render(s.createElement("div",null,s.createElement(a.Select,{id:"channel-not-children",onSelected:this.onChannelNotChildrenSelected.bind(this)},t),s.createElement("button",{style:{marginTop:"5px",marginBottom:"5px"},className:"purple-btn small-btn",onClick:this.onChannelNonChildrenAdded.bind(this)},"Add Channel")),e)}else this.chanIdToAdd=null,l.render(s.createElement("div",null),e);if(i){this.chanIdToRemove=i.id;let e=this.childrenChannels.map(e=>s.createElement("option",{key:`${this.category.id}_${e.id}`,value:e.id},e.name," [ ",e.type," | ",e.id," ]"));l.render(s.createElement("div",null,s.createElement(a.Select,{id:"channel-children",onSelected:this.onChannelChildrenSelected.bind(this)},e),s.createElement("button",{style:{marginTop:"5px",marginBottom:"5px"},className:"purple-btn small-btn",onClick:this.onChannelChildrenRemoved.bind(this)},"Remove Channel")),t)}else this.chanIdToRemove=null,l.render(s.createElement("div",null),t)}getChannels(e){let t=[];for(let n of this.category.guild.channels){let i=n[1];i.deleted||"category"===i.type||(e?i.parentID===this.category.id&&t.push(i):i.parentID!==this.category.id&&t.push(i))}return t}deleteChildren(){return i(this,void 0,void 0,(function*(){let e="Deleted channels:\n";for(let t of this.category.children){let n=t[1];if(n.deletable&&!n.deleted)try{yield n.delete(),e+=`- ${this.props.reporter.formatChannel(n)}\n`}catch(e){this.props.logger.error(`Could not delete channel [ ${n.id} ]`)}}this.props.reporter.reportGuildAction(e,this.category.guild)}))}onChannelNameChanged(){if(!this.isCurrentChannelValid())return;let e=document.getElementById("channel-name");if(e.value)if(this.category.manageable){let t=this.category.name;this.props.loader.load(this.category.setName(e.value)).then(e=>{this.props.logger.success("Changed selected channel's name"),this.props.reporter.reportGuildAction(`Changed ${this.props.reporter.formatChannel(e)}'s name [ \`${t}\` -> \`${e.name}\` ]`,e.guild)}).catch(t=>e.value=this.category.name)}else this.props.logger.error("You do not have the 'MANAGE_CHANNEL' permission in the selected guild"),e.value=this.category.name;else e.value=this.category.name}onChannelDeleted(){this.isCurrentChannelValid()&&(this.category.deletable?this.props.loader.load(this.category.delete()).then(e=>{this.props.logger.success("Deleted selected channel"),this.onChannelDeletion.trigger(),this.props.reporter.reportGuildAction(`Deleted ${this.props.reporter.formatChannel(e)}`,e.guild)}):this.props.logger.error("You do not have the 'MANAGE_CHANNEL' permission in the selected guild"))}onChannelChildrenDeleted(){this.isCurrentChannelValid()&&this.props.loader.load(this.deleteChildren()).then(()=>{this.props.loader.load(this.category.delete()).then(e=>{this.props.logger.success("Deleted selected channel"),this.onChannelDeletion.trigger(),this.props.reporter.reportGuildAction(`Deleted ${this.props.reporter.formatChannel(e)}`,e.guild)})})}onChannelChildrenSelected(e){this.chanIdToRemove=e}onChannelNotChildrenSelected(e){this.chanIdToAdd=e}onChannelChildrenRemoved(){if(!this.chanIdToRemove)return;if(!this.isCurrentChannelValid())return;let e=this.category.guild.channels.find(e=>e.id===this.chanIdToRemove);e&&(e.manageable?this.props.loader.load(e.setParent(null)).then(e=>{this.updateChannels(),this.props.logger.success("Successfully removed selected channel from category"),this.props.reporter.reportGuildAction(`Moved ${this.props.reporter.formatChannel(e)} out of ${this.props.reporter.formatChannel(this.category)}`,this.category.guild)}):this.props.logger.error("You do not have the 'MANAGE_CHANNEL' permission in the selected guild"))}onChannelNonChildrenAdded(){if(!this.chanIdToAdd)return;if(!this.isCurrentChannelValid())return;let e=this.category.guild.channels.find(e=>e.id===this.chanIdToAdd);e&&(e.manageable?this.props.loader.load(e.setParent(this.category)).then(e=>{this.updateChannels(),this.props.logger.success("Successfully added selected channel to category"),this.props.reporter.reportGuildAction(`Moved ${this.props.reporter.formatChannel(e)} to ${this.props.reporter.formatChannel(this.category)}`,this.category.guild)}):this.props.logger.error("You do not have the 'MANAGE_CHANNEL' permission in the selected guild"))}isCurrentChannelValid(){return!!this.category&&!this.category.deleted}initialize(){document.getElementById("channel-name").value=this.category.name}componentDidMount(){this.category=this.props.channel,this.updateChannels(),this.initialize()}componentDidUpdate(){this.category=this.props.channel,this.updateChannels(),this.initialize()}render(){return s.createElement("div",{id:"category-channel"},s.createElement("div",{className:"row",style:{padding:"5px"}},s.createElement("div",{className:"col-md-3"},s.createElement(o.Input,{id:"channel-name",onValidated:this.onChannelNameChanged.bind(this),placeholder:"name..."})),s.createElement("div",{className:"col-md-3"}),s.createElement("div",{className:"col-md-3"},s.createElement("button",{className:"purple-btn large-btn"},"Permissions")),s.createElement("div",{className:"col-md-3"},s.createElement("button",{style:{marginBottom:"5px"},className:"red-btn small-btn",onClick:this.onChannelDeleted.bind(this)},"Delete Category"),s.createElement("button",{className:"red-btn small-btn",onClick:this.onChannelChildrenDeleted.bind(this)},"Delete All"))),s.createElement("div",{className:"row",style:{padding:"5px"}},s.createElement("div",{className:"col-md-6"},s.createElement("div",{id:"container-channel-children"})),s.createElement("div",{className:"col-md-6"},s.createElement("div",{id:"container-channel-not-children"}))))}}t.DashboardCategoryChannel=d,d.registeredEvents=!1},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),s=n(2),l=n(1),o=n(12),r=n(4),a=n(6),d=n(3),c=n(5);class h extends i.Component{constructor(e){super(e),this.onChannelDeletion=new r.ConduitEvent,this.httpClient=new a.HttpClient,this.channel=e.channel,e.onLayoutInvalidated&&this.onChannelDeletion.on(e.onLayoutInvalidated),h.registeredEvents||(e.client.on("channelCreate",this.onChannelCreate.bind(this)).on("channelDelete",this.onChannelDelete.bind(this)).on("channelUpdate",(e,t)=>this.onChannelUpdate(t)),h.registeredEvents=!0)}onChannelCreate(e){if(this.isValidChannel(e)&&"category"===e.type){let t=e;c.SelectHelper.tryAddValue("channel-parent",t.id,`${t.name} [ ${t.id} ]`,this.onParentSelected.bind(this))}}onChannelDelete(e){this.isValidChannel(e)&&(e.id===this.channel.id?this.onChannelDeletion.trigger():"category"===e.type&&c.SelectHelper.tryRemoveValue("channel-parent",e.id))}onChannelUpdate(e){if(this.isValidChannel(e))if(e.id===this.channel.id)this.channel=e,this.initialize();else if("category"===e.type){let t=e;c.SelectHelper.tryChangeOptionText("channel-parent",t.id,`${t.name} [ ${t.id} ]`)}}isValidChannel(e){if(!this.isVisible())return!1;if("dm"===e.type||"group"===e.type)return!1;return e.guild.id===this.channel.guild.id}isVisible(){return!!document.getElementById("text-channel")}onChannelNameChanged(){if(!this.isCurrentChannelValid())return;let e=document.getElementById("channel-name");if(e.value)if(this.channel.manageable){let t=this.channel.name;this.props.loader.load(this.channel.setName(e.value)).then(e=>{this.props.logger.success("Changed selected channel's name"),this.props.reporter.reportGuildAction(`Changed ${this.props.reporter.formatChannel(e)}'s name [ \`${t}\` -> \`${e.name}\` ]`,e.guild)}).catch(t=>e.value=this.channel.name)}else this.props.logger.error("You do not have the 'MANAGE_CHANNEL' permission in the selected guild"),e.value=this.channel.name;else e.value=this.channel.name}onChannelTopicChanged(){if(!this.isCurrentChannelValid())return;let e=document.getElementById("channel-topic");e.value&&(this.channel.manageable?this.props.loader.load(this.channel.setTopic(e.value)).then(e=>{this.props.logger.success("Changed selected channel's topic"),this.props.reporter.reportGuildAction(`Changed ${this.props.reporter.formatChannel(e)}'s topic`,e.guild)}).catch(t=>e.value=this.channel.topic):(this.props.logger.error("You do not have the 'MANAGE_CHANNEL' permission in the selected guild"),e.value=this.channel.topic))}onChannelRateLimitChanged(){if(!this.isCurrentChannelValid())return;let e=document.getElementById("channel-rate-limit");if(e.value)if(this.channel.manageable){let t=/^(\d+)(\s*s)?$/,n=e.value.match(t);if(n&&n[1]){let t=Number(n[1]),i=this.channel.rateLimitPerUser;this.props.loader.load(this.channel.setRateLimitPerUser(t)).then(t=>{e.value=t.rateLimitPerUser>0?`${t.rateLimitPerUser}s`:"",this.props.logger.success("Changed selected channel's user rate-limit"),this.props.reporter.reportGuildAction(`Changed ${this.props.reporter.formatChannel(t)}'s user rate-limit [ \`${i}s\` -> \`${t.rateLimitPerUser}s\` ]`,t.guild)}).catch(t=>e.value=this.channel.rateLimitPerUser>0?`${this.channel.rateLimitPerUser}s`:"")}else e.value=this.channel.rateLimitPerUser>0?`${this.channel.rateLimitPerUser}s`:""}else this.props.logger.error("You do not have the 'MANAGE_CHANNEL' permission in the selected guild"),e.value=this.channel.rateLimitPerUser>0?`${this.channel.rateLimitPerUser}s`:""}onChannelMessageSent(){if(!this.isCurrentChannelValid())return;if(!this.channel.memberPermissions(this.props.client.user).has("SEND_MESSAGES"))return void this.props.logger.error("You do not have the 'SEND_MESSAGE' permission for the selected channel");let e=document.getElementById("channel-message"),t=document.getElementById("channel-file"),n=t.files[0];if(n){let i=new FormData;i.append("file",n.slice(),n.name),e.value&&i.append("payload_json",JSON.stringify({content:e.value,tts:!1,embed:null})),this.props.loader.load(this.httpClient.post(`https://discordapp.com/api/channels/${this.channel.id}/messages`,i,{Authorization:`Bot ${this.props.client.token}`})).then(n=>{if(n.isSuccess)this.props.logger.success("Successfully sent a message to the selected channel and guild");else{let e=n.asObject();e.message?this.props.logger.error(e.message):this.props.logger.error("Could not send a message to the selected channel and guild")}e.value="",t.value=""})}else e.value&&this.props.loader.load(this.channel.send(e.value)).then(n=>{this.props.logger.success("Successfully sent a message to the selected channel and guild"),e.value="",t.value=""})}onChannelNsfwChanged(e){if(!this.isCurrentChannelValid())return;let t=document.getElementById("channel-nsfw");if(this.channel.manageable){let n=this.channel.nsfw;this.props.loader.load(this.channel.setNSFW(e)).then(t=>{this.props.logger.success(`Set selected channel's nsfw state to ${e}`),this.props.reporter.reportGuildAction(`Changed ${this.props.reporter.formatChannel(t)}'s nsfw state [ \`${n}\` -> \`${t.nsfw}\` ]`,t.guild)}).catch(e=>{t.checked=this.channel.nsfw})}else this.props.logger.error("You do not have the 'MANAGE_CHANNEL' permission in the selected guild"),t.checked=this.channel.nsfw}onChannelDeleted(){this.isCurrentChannelValid()&&(this.channel.deletable?this.props.loader.load(this.channel.delete()).then(e=>{this.props.logger.success("Deleted selected channel"),this.onChannelDeletion.trigger(),this.props.reporter.reportGuildAction(`Deleted ${this.props.reporter.formatChannel(e)}`,e.guild)}):this.props.logger.error("You do not have the 'MANAGE_CHANNEL' permission in the selected guild"))}onParentSelected(e){if(this.isCurrentChannelValid())if(this.channel.manageable)if("NONE"===e){let e=this.channel.parent;this.props.loader.load(this.channel.setParent(null)).then(t=>{this.props.logger.success("Changed selected channel's category");let n=`Moved ${this.props.reporter.formatChannel(t)} out of ${this.props.reporter.formatChannel(e)}`;this.props.reporter.reportGuildAction(n,t.guild)}).catch(e=>c.SelectHelper.trySetValue("channel-parent",this.channel.parent?this.channel.parentID:"NONE"))}else{let t=this.channel.guild.channels.find(t=>t.id===e);if(!t)return;this.props.loader.load(this.channel.setParent(t)).then(e=>{this.props.logger.success("Changed selected channel's category"),this.props.reporter.reportGuildAction(`Moved ${this.props.reporter.formatChannel(e)} to ${this.props.reporter.formatChannel(t)}`,e.guild)}).catch(e=>c.SelectHelper.trySetValue("channel-parent",this.channel.parent?this.channel.parentID:"NONE"))}else this.props.logger.error("You do not have the 'MANAGE_CHANNEL' permission in the selected guild")}isCurrentChannelValid(){return!!this.channel&&!this.channel.deleted}initialize(){let e=document.getElementById("channel-name"),t=document.getElementById("channel-topic"),n=document.getElementById("channel-rate-limit"),l=document.getElementById("channel-nsfw"),o=document.getElementById("container-channel-parent");if(!(e&&t&&n&&l&&o))return;e.value=this.channel.name,t.value=this.channel.topic?this.channel.topic:"",n.value=this.channel.rateLimitPerUser>0?`${this.channel.rateLimitPerUser}s`:"",l.checked=this.channel.nsfw;let r=this.channel.guild.channels.filter(e=>"category"===e.type),a=[];if(a.push(i.createElement("option",{key:`${this.channel.id}_NONE`,value:"NONE"},"no category")),r.size>0)for(let e of r){let t=e[1];t.deleted||a.push(i.createElement("option",{key:`${this.channel.id}_${t.id}`,value:t.id},t.name," [ ",t.id," ]"))}s.render(i.createElement(d.Select,{id:"channel-parent",onSelected:this.onParentSelected.bind(this),defaultValue:this.channel.parent?this.channel.parentID:"NONE"},a),o)}componentDidMount(){this.channel=this.props.channel,this.initialize()}componentDidUpdate(){this.channel=this.props.channel,this.initialize()}render(){return i.createElement("div",{id:"text-channel"},i.createElement("div",{className:"row",style:{padding:"5px"}},i.createElement("div",{className:"col-md-12"},i.createElement("div",{id:"container-channel-parent"}))),i.createElement("div",{className:"row",style:{padding:"5px"}},i.createElement("div",{className:"col-md-3"},i.createElement(l.Input,{id:"channel-name",onValidated:this.onChannelNameChanged.bind(this),placeholder:"name..."}),i.createElement(l.Input,{id:"channel-topic",onValidated:this.onChannelTopicChanged.bind(this),placeholder:"topic..."})),i.createElement("div",{className:"col-md-3"},i.createElement(l.Input,{id:"channel-rate-limit",onValidated:this.onChannelRateLimitChanged.bind(this),placeholder:" slowmode (in seconds)..."}),i.createElement(o.Checkbox,{id:"channel-nsfw",name:"NSFW",defaultValue:this.channel.nsfw,onChange:this.onChannelNsfwChanged.bind(this)})),i.createElement("div",{className:"col-md-3"},i.createElement("button",{style:{marginBottom:"5px"},className:"purple-btn small-btn"},"Permissions"),i.createElement("button",{className:"purple-btn small-btn"},"Webhooks")),i.createElement("div",{className:"col-md-3"},i.createElement("button",{className:"red-btn large-btn",onClick:this.onChannelDeleted.bind(this)},"Delete"))),i.createElement("div",{className:"row",style:{padding:"5px",paddingBottom:"10px"}},i.createElement("div",{className:"col-md-12"},i.createElement(l.Input,{id:"channel-message",onValidated:this.onChannelMessageSent.bind(this),placeholder:"message..."}),i.createElement("input",{id:"channel-file",type:"file"}))))}}t.DashboardTextChannel=h,h.registeredEvents=!1},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),s=n(2),l=n(1),o=n(4),r=n(3),a=n(5);class d extends i.Component{constructor(e){super(e),this.onChannelDeletion=new o.ConduitEvent,this.channel=e.channel,this.voiceClient=null,e.onLayoutInvalidated&&this.onChannelDeletion.on(e.onLayoutInvalidated),d.registeredEvents||(e.client.on("channelCreate",this.onChannelCreate.bind(this)).on("channelDelete",this.onChannelDelete.bind(this)).on("channelUpdate",(e,t)=>this.onChannelUpdate(t)),d.registeredEvents=!0)}onChannelCreate(e){if(this.isValidChannel(e)&&"category"===e.type){let t=e;a.SelectHelper.tryAddValue("channel-parent",t.id,`${t.name} [ ${t.id} ]`,this.onParentSelected.bind(this))}}onChannelDelete(e){this.isValidChannel(e)&&(e.id===this.channel.id?this.onChannelDeletion.trigger():"category"===e.type&&a.SelectHelper.tryRemoveValue("channel-parent",e.id))}onChannelUpdate(e){if(this.isValidChannel(e))if(e.id===this.channel.id)this.channel=e,this.initialize();else if("category"===e.type){let t=e;a.SelectHelper.tryChangeOptionText("channel-parent",t.id,`${t.name} [ ${t.id} ]`)}}isValidChannel(e){if(!this.isVisible())return!1;if("dm"===e.type||"group"===e.type)return!1;return e.guild.id===this.channel.guild.id}isVisible(){return!!document.getElementById("voice-channel")}onChannelNameChanged(){if(!this.isCurrentChannelValid())return;let e=document.getElementById("channel-name");if(e.value)if(this.channel.manageable){let t=this.channel.name;this.props.loader.load(this.channel.setName(e.value)).then(e=>{this.props.logger.success("Changed selected channel's name"),this.props.reporter.reportGuildAction(`Changed ${this.props.reporter.formatChannel(e)}'s name [ \`${t}\` -> \`${e.name}\` ]`,e.guild)}).catch(t=>e.value=this.channel.name)}else this.props.logger.error("You do not have the 'MANAGE_CHANNEL' permission in the selected guild"),e.value=this.channel.name;else e.value=this.channel.name}onChannelUserLimitChanged(){if(!this.isCurrentChannelValid())return;let e=document.getElementById("channel-user-limit");if(e.value)if(this.channel.manageable){let t=/^(\d+)(\s*max\.?\s*users)?$/,n=e.value.match(t);if(n&&n[1]){let t=Number(n[1]),i=this.channel.userLimit;this.props.loader.load(this.channel.setUserLimit(t)).then(t=>{e.value=t.userLimit>0?`${t.userLimit} max. users`:"",this.props.logger.success("Changed selected channel's user limit");let n=0===i?"inf":`${i} max. users`,s=0===t.userLimit?"inf":`${t.userLimit} max. users`;this.props.reporter.reportGuildAction(`Changed ${this.props.reporter.formatChannel(t)}'s user limit [ \`${n}\` -> \`${s}\` ]`,t.guild)}).catch(t=>e.value=this.channel.userLimit>0?`${this.channel.userLimit} max. users`:"")}else e.value=this.channel.userLimit>0?`${this.channel.userLimit} max. users`:""}else this.props.logger.error("You do not have the 'MANAGE_CHANNEL' permission in the selected guild"),e.value=this.channel.userLimit>0?`${this.channel.userLimit} max. users`:""}onChannelBitrateChanged(){if(!this.isCurrentChannelValid())return;let e=document.getElementById("channel-bitrate");if(e.value)if(this.channel.manageable){let t=/^(\d+)(\s*kbps)?$/,n=e.value.match(t);if(n&&n[1]){let t=Number(n[1]),i=this.channel.bitrate;this.props.loader.load(this.channel.setBitrate(t)).then(t=>{e.value=`${t.bitrate}kbps`,this.props.reporter.reportGuildAction(`Changed ${this.props.reporter.formatChannel(t)}'s bitrate [ \`${i}\` -> \`${t.bitrate}\` ]`,t.guild)}).catch(t=>e.value=`${this.channel.bitrate}kbps`)}}else this.props.logger.error("You do not have the 'MANAGE_CHANNEL' permission in the selected guild"),e.value=`${this.channel.bitrate}kbps`;else e.value=`${this.channel.bitrate}kbps`}onChannelDeleted(){this.isCurrentChannelValid()&&(this.channel.deletable?this.props.loader.load(this.channel.delete()).then(e=>{this.props.logger.success("Deleted selected channel"),this.onChannelDeletion.trigger(),this.props.reporter.reportGuildAction(`Deleted ${this.props.reporter.formatChannel(e)}`,e.guild)}):this.props.logger.error("You do not have the 'MANAGE_CHANNEL' permission in the selected guild"))}onParentSelected(e){if(this.isCurrentChannelValid())if(this.channel.manageable)if("NONE"===e){let e=this.channel.parent;this.props.loader.load(this.channel.setParent(null)).then(t=>{this.props.logger.success("Changed selected channel's category");let n=`Moved ${this.props.reporter.formatChannel(t)} out of ${this.props.reporter.formatChannel(e)}`;this.props.reporter.reportGuildAction(n,t.guild)}).catch(e=>a.SelectHelper.trySetValue("channel-parent",this.channel.parent?this.channel.parentID:"NONE"))}else{let t=this.channel.guild.channels.find(t=>t.id===e);if(!t)return;this.props.loader.load(this.channel.setParent(t)).then(e=>{this.props.logger.success("Changed selected channel's category"),this.props.reporter.reportGuildAction(`Moved ${this.props.reporter.formatChannel(e)} to ${this.props.reporter.formatChannel(t)}`,e.guild)}).catch(e=>a.SelectHelper.trySetValue("channel-parent",this.channel.parent?this.channel.parentID:"NONE"))}else this.props.logger.error("You do not have the 'MANAGE_CHANNEL' permission in the selected guild")}isCurrentChannelValid(){return!!this.channel&&!this.channel.deleted}initialize(){let e=document.getElementById("channel-name"),t=document.getElementById("channel-user-limit"),n=document.getElementById("channel-bitrate"),l=document.getElementById("container-channel-parent");if(!(e&&t&&n&&l))return;e.value=this.channel.name,t.value=this.channel.userLimit>0?`${this.channel.userLimit} max. users`:"",n.value=this.channel.bitrate?`${this.channel.bitrate}kbps`:"";let o=this.channel.guild.channels.filter(e=>"category"===e.type),a=[];if(a.push(i.createElement("option",{key:`${this.channel.id}_NONE`,value:"NONE"},"no category")),o.size>0)for(let e of o){let t=e[1];t.deleted||a.push(i.createElement("option",{key:`${this.channel.id}_${t.id}`,value:t.id},t.name," [ ",t.id," ]"))}s.render(i.createElement(r.Select,{id:"channel-parent",onSelected:this.onParentSelected.bind(this),defaultValue:this.channel.parent?this.channel.parentID:"NONE"},a),l)}componentDidMount(){this.channel=this.props.channel,this.initialize()}componentDidUpdate(){this.channel=this.props.channel,this.initialize()}render(){return i.createElement("div",{id:"voice-channel"},i.createElement("div",{className:"row",style:{padding:"5px"}},i.createElement("div",{className:"col-md-12"},i.createElement("div",{id:"container-channel-parent"}))),i.createElement("div",{className:"row",style:{padding:"5px"}},i.createElement("div",{className:"col-md-3"},i.createElement(l.Input,{id:"channel-name",onValidated:this.onChannelNameChanged.bind(this),placeholder:"name..."}),i.createElement(l.Input,{id:"channel-user-limit",onValidated:this.onChannelUserLimitChanged.bind(this),placeholder:"user limit..."})),i.createElement("div",{className:"col-md-3"},i.createElement(l.Input,{id:"channel-bitrate",onValidated:this.onChannelBitrateChanged.bind(this),placeholder:"bitrate..."})),i.createElement("div",{className:"col-md-3"},i.createElement("button",{className:"purple-btn large-btn"},"Permissions")),i.createElement("div",{className:"col-md-3"},i.createElement("button",{className:"red-btn large-btn",onClick:this.onChannelDeleted.bind(this)},"Delete"))))}}t.DashboardVoiceChannel=d,d.registeredEvents=!1},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(s,l){function o(e){try{a(i.next(e))}catch(e){l(e)}}function r(e){try{a(i.throw(e))}catch(e){l(e)}}function a(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,r)}a((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),l=n(2),o=n(1),r=n(33);class a extends s.Component{valideColorChange(e){return i(this,void 0,void 0,(function*(){if(!this.selectedRole)return!1;try{return yield this.props.loader.load(this.selectedRole.setColor(e)),!0}catch(e){return!1}}))}onColorChangeFail(){return this.selectedRole?this.selectedRole.color.toString(16):"000000"}loadRole(e){let t=document.getElementById("role"),n=this.props.guild.roles.find(t=>t.id===e&&!t.deleted);n?(this.selectedRole=n,l.render(s.createElement("div",{className:"row"},s.createElement("div",{className:"col-md-1"},s.createElement(r.ColorPicker,{id:"role-color",color:n.color.toString(16),validateChange:this.valideColorChange.bind(this),failedChange:this.onColorChangeFail,style:{width:"100%",height:"32px"}})),s.createElement("div",{className:"col-md-2"},s.createElement(o.Input,{id:"role-name",value:n.name,placeholder:"name..."})),s.createElement("div",{className:"col-md-3"}),s.createElement("div",{className:"col-md-3"},s.createElement("button",{className:"purple-btn small-btn"},"Permissions")),s.createElement("div",{className:"col-md-3"},s.createElement("button",{className:"red-btn small-btn"},"Delete"))),t)):l.render(s.createElement("div",null),t)}onRoleSelected(){let e=document.getElementById("guild-role");e.value&&this.loadRole(e.value)}renderRoles(){let e=this.props.guild.roles.filter(e=>!e.deleted);if(e.size>0){let t=e.map(e=>s.createElement("option",{key:`${this.props.guild.id}_${e.id}`,value:e.id},e.name," [ ",e.hexColor," | ",e.id," ]"));return s.createElement("div",null,s.createElement(o.Input,{id:"guild-role",placeholder:"role name or id...",onValidated:this.onRoleSelected.bind(this),list:"guild-roles"}),s.createElement("datalist",{id:"guild-roles"},t),s.createElement("hr",{style:{marginBottom:"0px"}}))}return s.createElement("div",null)}postRender(){let e=document.getElementById("guild-role"),t=this.props.guild.roles.filter(e=>!e.deleted);e&&t.size>0?(e.value=t.first().id,this.loadRole(e.value)):l.render(s.createElement("div",null),document.getElementById("role"))}componentDidMount(){this.postRender()}componentDidUpdate(){this.postRender()}render(){return s.createElement("div",null,s.createElement("div",{style:{padding:"10px",paddingBottom:"0px"}},s.createElement("div",{className:"row"},s.createElement("div",{className:"col-md-12"},this.renderRoles()))),s.createElement("div",{id:"role",style:{padding:"10px",paddingBottom:"5px"}}))}}t.DashboardRoles=a},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(s,l){function o(e){try{a(i.next(e))}catch(e){l(e)}}function r(e){try{a(i.throw(e))}catch(e){l(e)}}function a(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,r)}a((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0);class l extends s.Component{setColor(e){e="0"===e?"99AAB5":e;let t=document.getElementById(this.props.id),n=t.getElementsByTagName("input")[0],i=t.getElementsByTagName("div")[0];n.value=e,i.style.backgroundColor=`#${e}`}onClick(e){document.getElementById(this.props.id).getElementsByTagName("input")[0].click()}onChange(e){return i(this,void 0,void 0,(function*(){let e=document.getElementById(this.props.id).getElementsByTagName("input")[0];if(yield this.props.validateChange(e.value))this.setColor(e.value);else{let e=this.props.failedChange();this.setColor(e)}}))}componentDidMount(){this.setColor(this.props.color)}componentDidUpdate(){this.setColor(this.props.color)}render(){return s.createElement("div",{id:this.props.id,style:this.props.style},s.createElement("input",{type:"color",onChange:this.onChange.bind(this),style:{display:"none"}}),s.createElement("div",{onClick:this.onClick.bind(this),style:{backgroundColor:this.props.color,height:"100%",width:"100%",border:"1px solid black",display:"inline-block"}}))}}t.ColorPicker=l},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(s,l){function o(e){try{a(i.next(e))}catch(e){l(e)}}function r(e){try{a(i.throw(e))}catch(e){l(e)}}function a(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,r)}a((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const s=n(7),l=n(6);class o{constructor(e){this.objects=new s.Collection,this.timeout=e}cache(e,t){this.objects.set(e,t),setTimeout(()=>this.objects.delete(e),this.timeout)}isCached(e){return this.objects.has(e)}get(e){return this.objects.get(e)}}class r{constructor(e){this.guilds=new o(e),this.guildChannels=new o(e)}}t.RestClient=class{constructor(e){this.client=e,this.httpClient=new l.HttpClient,this.cache=new r(3e3)}defaultFetchAPI(e){return this.httpClient.get(`https://discordapp.com/api/${e}`,{Authorization:`Bot ${this.client.token}`,"Content-Type":"application/json"})}createGuildChannel(e,t){switch(t.type){case 0:case 5:case 6:return new s.TextChannel(e,t);case 2:return new s.VoiceChannel(e,t);case 4:return new s.CategoryChannel(e,t);default:return null}}fetchGuildChannels(e){return i(this,void 0,void 0,(function*(){let t=yield this.defaultFetchAPI(`guilds/${e.id}/channels`);if(t.isSuccess()){let n=t.asObject();for(let t of n){let n=this.createGuildChannel(e,t);n&&e.channels.set(n.id,n)}}}))}fetchGuild(e){return i(this,void 0,void 0,(function*(){if(this.cache.guilds.isCached(e))return this.cache.guilds.get(e);let t=yield this.defaultFetchAPI(`guilds/${e}`);if(t.isSuccess()){let e=t.asObject(),n=new s.Guild(this.client,e);yield this.fetchGuildChannels(n);let i=yield n.fetchMember(this.client.user,!0);return n.members.set(i.id,i),n.available=!0,this.cache.guilds.cache(n.id,n),n}return null}))}fetchGuildChannel(e,t){return i(this,void 0,void 0,(function*(){if(this.cache.guildChannels.isCached(t))return this.cache.guildChannels.get(t);let n=yield this.defaultFetchAPI(`channels/${t}`);if(n.isSuccess()){let t=n.asObject(),i=this.createGuildChannel(e,t);if(!i)return null;if("category"!=i.type){let t=yield this.fetchGuildChannel(e,i.parentID);t&&e.channels.set(t.id,t)}return this.cache.guildChannels.cache(i.id,i),i}return null}))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(0);class s extends i.Component{render(){return i.createElement("div",{className:"header",style:{position:"absolute"}},i.createElement("img",{src:"./public/img/logo_brand.png",alt:"logo"}),i.createElement("h1",{style:{display:"none"}},"Conduit"))}}t.Header=s},function(e,t,n){"use strict";var i,s="object"==typeof Reflect?Reflect:null,l=s&&"function"==typeof s.apply?s.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};i=s&&"function"==typeof s.ownKeys?s.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!=e};function r(){r.init.call(this)}e.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._eventsCount=0,r.prototype._maxListeners=void 0;var a=10;function d(e){return void 0===e._maxListeners?r.defaultMaxListeners:e._maxListeners}function c(e,t,n,i){var s,l,o,r;if("function"!=typeof n)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof n);if(void 0===(l=e._events)?(l=e._events=Object.create(null),e._eventsCount=0):(void 0!==l.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),l=e._events),o=l[t]),void 0===o)o=l[t]=n,++e._eventsCount;else if("function"==typeof o?o=l[t]=i?[n,o]:[o,n]:i?o.unshift(n):o.push(n),(s=d(e))>0&&o.length>s&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=o.length,r=a,console&&console.warn&&console.warn(r)}return e}function h(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,l(this.listener,this.target,e))}function u(e,t,n){var i={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},s=h.bind(i);return s.listener=n,i.wrapFn=s,s}function p(e,t,n){var i=e._events;if(void 0===i)return[];var s=i[t];return void 0===s?[]:"function"==typeof s?n?[s.listener||s]:[s]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(s):g(s,s.length)}function m(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function g(e,t){for(var n=new Array(t),i=0;i<t;++i)n[i]=e[i];return n}Object.defineProperty(r,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");a=e}}),r.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},r.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},r.prototype.getMaxListeners=function(){return d(this)},r.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,s=this._events;if(void 0!==s)i=i&&void 0===s.error;else if(!i)return!1;if(i){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var r=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw r.context=o,r}var a=s[e];if(void 0===a)return!1;if("function"==typeof a)l(a,this,t);else{var d=a.length,c=g(a,d);for(n=0;n<d;++n)l(c[n],this,t)}return!0},r.prototype.addListener=function(e,t){return c(this,e,t,!1)},r.prototype.on=r.prototype.addListener,r.prototype.prependListener=function(e,t){return c(this,e,t,!0)},r.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.on(e,u(this,e,t)),this},r.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.prependListener(e,u(this,e,t)),this},r.prototype.removeListener=function(e,t){var n,i,s,l,o;if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);if(void 0===(i=this._events))return this;if(void 0===(n=i[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(s=-1,l=n.length-1;l>=0;l--)if(n[l]===t||n[l].listener===t){o=n[l].listener,s=l;break}if(s<0)return this;0===s?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,s),1===n.length&&(i[e]=n[0]),void 0!==i.removeListener&&this.emit("removeListener",e,o||t)}return this},r.prototype.off=r.prototype.removeListener,r.prototype.removeAllListeners=function(e){var t,n,i;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var s,l=Object.keys(n);for(i=0;i<l.length;++i)"removeListener"!==(s=l[i])&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(i=t.length-1;i>=0;i--)this.removeListener(e,t[i]);return this},r.prototype.listeners=function(e){return p(this,e,!0)},r.prototype.rawListeners=function(e){return p(this,e,!1)},r.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):m.call(e,t)},r.prototype.listenerCount=m,r.prototype.eventNames=function(){return this._eventsCount>0?i(this._events):[]}}]);
//# sourceMappingURL=main.js.map